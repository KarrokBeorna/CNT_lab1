# CNT_lab1a - Блокирующие сокеты

## Протокол

## Пакет

- 3 стартовых байта {0xAA, 0xBB, 0xCC}
- Байт типа 
  - приветствие
  - выход
  - сообщение с файлом
  - сообщение без файла
  - длина пакета
  - размер файла
  - имя файла
- Длина сообщения  
- 3 байта {0xAA, 0xBB, 0xCC}
- Байт типа

То есть всегда будет пакет такого рода:
\xAA\xBB\xCC\x04{length}\xAA\xBB\xCC\x{00-03,05,06}{msg}

## Запуск

Сначала запускаем сервер, затем запускаем клиенты.

В первом сообщении клиента будет передан его никнейм и временное смещение в секундах.

Также при успешном вводе никнейма будет создана папка files+username в директории скрипта.

## Передача данных

Данные можно передавать с файлами и без.

Для передачи файла необходимо написать:

\>>sendfile<< {filename} msg(опционально)

Файлы обязательно должны храниться в папке files в директории скрипта, хотя это легко изменить

## Закрытие сокетов

Выйти из чата можно при помощи отправки сообщения >>exit<<
